# quality

Модуль оценки качества дистилляции в системе Samovar.  
Предоставляет функции для анализа параметров процесса дистилляции и вычисления метрик качества на основе температуры пара, стабильности и отклонений от идеальных значений. Результатом является комплексная оценка с рекомендациями по корректировке процесса.

Ключевые структуры данных  
QualityParams — Результаты оценки качества процесса дистилляции. Содержит числовые оценки различных аспектов процесса и текстовую рекомендацию по его улучшению или поддержанию.

#define IDEAL_STEAM_TEMP  
Идеальная температура пара для этанола (в °C).

#define TEMP_TOLERANCE  
Допустимое отклонение температуры от идеальной (в °C).

#define STABILITY_WINDOW_SIZE  
Размер окна (в секундах) для анализа стабильности температуры.

#define MIN_QUALITY_SCORE  
Минимальное значение оценки качества.

#define MAX_QUALITY_SCORE  
Максимальное значение оценки качества.

float steamTempHistory[STABILITY_WINDOW_SIZE]  
Кольцевой буфер для хранения истории температуры пара. Используется для анализа стабильности процесса в течение последних STABILITY_WINDOW_SIZE секунд.

uint8_t historyIndex  
Индекс текущей позиции в кольцевом буфере steamTempHistory.

---
struct QualityParams  
Результаты оценки качества процесса дистилляции.  
Поля  
stabilityScore — Оценка стабильности процесса (0-100)  
alcoholScore — Оценка качества спирта (0-100)  
tempScore — Оценка температурного режима (0-100)  
overallScore — Общая оценка качества (0-100)  
recommendation — Рекомендации по улучшению процесса

---
float calculateStabilityScore()  
Оценка стабильности температуры пара на основе исторических данных.  
Аргументы  
Нет  
Возвращает  
Оценка стабильности в диапазоне от 0 до 100 (100 — максимальная стабильность)  
Исключения  
Нет

---
float calculateTempScore()  
Оценка соответствия текущей температуры пара идеальному значению.  
Аргументы  
Нет  
Возвращает  
Оценка температурного режима в диапазоне от 0 до 100  
Исключения  
Нет

---
float calculateAlcoholScore()  
Оценка качества спирта по температуре пара с штрафами за отклонения и примеси.  
Аргументы  
Нет  
Возвращает  
Оценка чистоты спирта в диапазоне от 0 до 100  
Исключения  
Нет

---
QualityParams getQualityAssessment()  
Получение комплексной оценки качества процесса дистилляции.  
Аргументы  
Нет  
Возвращает  
Структура QualityParams с оценками и рекомендацией  
Исключения  
Нет
