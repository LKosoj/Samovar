# Samovar_pin

```cpp
/**
 * @brief Модуль управления распиновкой и конфигурацией устройства Самовар в зависимости от типа платы и режима работы.
 * Автоматически определяет тип платы (ESP32S3, LILYGO T-RELAY, DEVKIT) и устанавливает соответствующие пины периферии.
 * Содержит глобальные конфигурационные параметры для управления оборудованием: шаговым двигателем, дисплеем, датчиками, сервоприводом и температурным режимом.
 *
 * Ключевые структуры данных
 * BOARD — Тип аппаратной платы: ESP32S3, LILYGO или DEVKIT (определяется автоматически).
 * ENC_CLK — Пин энкодера — тактовый сигнал (CLK).
 * ENC_DT — Пин энкодера — сигнал направления (DT).
 * ENC_SW — Пин энкодера — кнопка (SW).
 * STEPPER_STEP — Пин управления шагом шагового двигателя.
 * STEPPER_DIR — Пин управления направлением шагового двигателя.
 * STEPPER_EN — Пин включения/отключения драйвера шагового двигателя.
 * RELE_CHANNEL1 — Реле 1 — управление пускателем нагревателя.
 * RELE_CHANNEL2 — Реле 2 — управление мешалкой (в режиме "Пиво").
 * RELE_CHANNEL3 — Реле 3 — управление клапаном подачи воды охлаждения.
 * RELE_CHANNEL4 — Реле 4 — управление разгоном или внешним регулятором.
 * ONE_WIRE_BUS — Пин для шины 1-Wire (подключение датчиков DS18B20).
 * SERVO_PIN — Пин для подключения сервопривода (например, управления заслонкой).
 * BTN_PIN — Пин кнопки (опционально, используется для ручного управления).
 * LUA_PIN — Пин, доступный для использования в Lua-скриптах.
 * ALARM_BTN_PIN — Пин аварийной кнопки (если определена USE_ALARM_BTN).
 * WATERSENSOR_PIN — Пин датчика наличия воды охлаждения.
 * WHEAD_LEVEL_SENSOR_PIN — Пин датчика уровня флегмы в узле отбора.
 * LCD_SDA — Пин SDA для подключения I2C-дисплея.
 * LCD_SCL — Пин SCL для подключения I2C-дисплея.
 * RXD2 — Пин RX для второго UART (для связи с регулятором напряжения).
 * TXD2 — Пин TX для второго UART.
 * WATER_PUMP_PIN — Пин управления насосом охлаждения (ШИМ).
 * BZZ_PIN — Пин подключения пищалки (buzzer).
 * USE_BTN — Опциональный макрос, включающий использование кнопки (требует определения BTN_PIN).
 * USE_ALARM_BTN — Опциональный макрос, включающий использование аварийной кнопки. Если не определён, ALARM_BTN_PIN игнорируется.
 * SEALEVELPRESSURE_HPA — Номинальное атмосферное давление на уровне моря для калибровки барометров (1013.25 hPa).
 * STEPPER_STEPS — Количество шагов на один полный оборот двигателя (с учётом микрошагов).
 * STEPPER_STEP_ML — Количество шагов двигателя, необходимых для дозирования 1 мл жидкости.
 * STEPPER_MAX_SPEED — Максимальная скорость шагового двигателя в шагах в секунду.
 * LCD_ADDRESS — I2C-адрес LCD-дисплея.
 * LCD_COLUMNS — Количество столбцов на LCD-дисплее.
 * LCD_ROWS — Количество строк на LCD-дисплее.
 * WHLS_ALARM_TIME — Время в секундах, через которое срабатывает тревога при низком уровне флегмы.
 * WF_CALIBRATION — Калибровочный коэффициент датчика потока воды: F = WF_CALIBRATION * Q (л/мин).
 * WF_ALARM_COUNT — Количество секунд ожидания потока воды охлаждения перед отключением нагрева.
 * SERVO_ANGLE — Максимальный угол поворота сервопривода в градусах.
 * CAPACITY_NUM — Количество ёмкостей для переключения сервоприводом (включая нулевую).
 * TARGET_WATER_TEMP — Целевая температура воды в градусах Цельсия, поддерживаемая ШИМ-регулятором.
 */
#if !defined(PLATFORM_DEFINED)
#pragma message ("PLATFORM NOT DEFINED")
#error "Target platform is not defined. Please define PLATFORM_DEFINED."
#endif

---
#if !defined(PLATFORM_DEFINED)
#error "Target platform is not defined. Please define PLATFORM_DEFINED."
#endif
Проверяет, определена ли платформа, иначе выдаёт ошибку компиляции.
Аргументы
Возвращает
Исключения
Генерирует ошибку компиляции, если PLATFORM_DEFINED не определён.
```
