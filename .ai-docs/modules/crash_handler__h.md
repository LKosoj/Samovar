# crash_handler

/**
 * @brief Модуль обработки сбоев и сохранения стектрейсов для ESP32.
 *
 * Предоставляет функциональность перехвата сбоев системы, получения причин перезагрузки
 * и сохранения стектрейсов в файловую систему. При последующем запуске сохранённый лог
 * может быть загружен для диагностики. Функционал может быть включён или отключён
 * через макрос USE_CRASH_HANDLER.
 */

void init_crash_handler()
Инициализирует обработчик сбоев и устанавливает перехватчики паники.
Аргументы
Возвращает
Исключения

---
void save_stacktrace_to_file(const char* info)
Сохраняет текущий стектрейс и контекстную информацию в файл на SPIFFS.
Аргументы
info — Дополнительная строка с информацией о контексте сбоя.
Возвращает
Исключения

---
String get_reset_reason_string()
Возвращает человекочитаемое описание причины последней перезагрузки.
Аргументы
Возвращает
Строка с описанием причины сброса (например, "Software Watchdog", "Power On", и т.п.).
Исключения

---
void check_and_load_crash_log()
Проверяет наличие файла с предыдущим стектрейсом и загружает его при старте.
Аргументы
Возвращает
Исключения

---
void force_save_stacktrace(const char* reason)
Принудительно сохраняет текущий стектрейс с указанием причины.
Аргументы
reason — Причина, по которой сохраняется стектрейс (записывается в лог).
Возвращает
Исключения
