# Samovar_pin

Модуль `samovar_pin.h` обеспечивает конфигурацию пинов микроконтроллера в зависимости от типа используемой аппаратной платы (ESP32S3, LILYGO T-RELAY, ESP32 DEVKIT). Он автоматически определяет платформу на основе макросов Arduino и определяет соответствующие константы для подключения периферийных устройств: энкодера, реле, датчиков, дисплея, шагового двигателя и других компонентов. Это позволяет использовать один и тот же код на разных платах без ручного изменения распиновки.

Ключевые структуры данных  
BoardType — Перечисление (неявное) типов поддерживаемых плат: ESP32S3, LILYGO, DEVKIT, используемое для условной компиляции конфигурации пинов.

---
#define BOARD  
Тип платы, определяемый автоматически или устанавливаемый по умолчанию (DEVKIT), используется для выбора конфигурации пинов.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define ENC_CLK  
Пин подключения сигнала CLK энкодера.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define ENC_DT  
Пин подключения сигнала DT энкодера.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define ENC_SW  
Пин подключения кнопки энкодера (SW).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_STEP  
Пин управления шагом шагового двигателя.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_DIR  
Пин управления направлением вращения шагового двигателя.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_EN  
Пин включения драйвера шагового двигателя.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define RELE_CHANNEL1  
Реле канала 1 — управление пускателем нагревателя.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define RELE_CHANNEL2  
Реле канала 2 — в режиме "Пиво" управляет мешалкой.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define RELE_CHANNEL3  
Реле канала 3 — управление клапаном подачи воды охлаждения.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define RELE_CHANNEL4  
Реле канала 4 — используется для управления разгоном или подключения регулятора.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define ONE_WIRE_BUS  
Пин для шины 1-Wire (подключение датчиков температуры DS18B20).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define SERVO_PIN  
Пин управления сервоприводом (например, для управления заслонкой).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define BTN_PIN  
Пин подключения дополнительной кнопки (опционально).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LUA_PIN  
Пин, доступный для использования в Lua-скриптах.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define ALARM_BTN_PIN  
Пин аварийной кнопки (может быть не определён, если USE_ALARM_BTN не задан).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WATERSENSOR_PIN  
Пин датчика наличия воды охлаждения (для защиты от перегрева).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WHEAD_LEVEL_SENSOR_PIN  
Пин датчика уровня флегмы в узле отбора (для предотвращения захлёбывания).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LCD_SDA  
Пин SDA для подключения I2C-дисплея.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LCD_SCL  
Пин SCL для подключения I2C-дисплея.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define RXD2  
Приёмный пин UART2 для связи с внешним устройством (например, регулятором напряжения).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define TXD2  
Передающий пин UART2 для связи с внешним устройством.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WATER_PUMP_PIN  
Пин управления насосом охлаждения по ШИМ.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define BZZ_PIN  
Пин подключения пьезо-излучателя (buzzer) для звуковых сигналов.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_STEPS  
Количество шагов на один полный оборот двигателя (с учётом микрошагов).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_STEP_ML  
Количество шагов двигателя, необходимых для дозирования 1 мл жидкости.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define STEPPER_MAX_SPEED  
Максимальная скорость шагового двигателя в шагах в секунду.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LCD_ADDRESS  
I2C-адрес LCD-дисплея.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LCD_COLUMNS  
Количество столбцов на LCD-дисплее.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define LCD_ROWS  
Количество строк на LCD-дисплее.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WHLS_ALARM_TIME  
Время в секундах, через которое срабатывает тревога при отсутствии флегмы.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WF_CALIBRATION  
Коэффициент калибровки датчика потока воды.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define WF_ALARM_COUNT  
Время в секундах, в течение которого должна поступать вода охлаждения.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define SERVO_ANGLE  
Максимальный угол поворота сервопривода в градусах.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define CAPACITY_NUM  
Количество ёмкостей для сбора дистиллята.  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет

---
#define TARGET_WATER_TEMP  
Целевая температура воды, поддерживаемая системой охлаждения (в градусах Цельсия).  
Аргументы  
Нет  
Возвращает  
Нет  
Исключения  
Нет
