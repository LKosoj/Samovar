# Samovar
Скетч для ESP32.
Предназначен для управления ректификационной колонной. Необходимые библиотеки выложены в каталоге library, остальные грузятся из репозитория библиотек через Arduino IDE

Устройство контролирует 4 температуры, управляет 4 реле, управляет шаговиком с перистальтическим насосом для отбора из РК, управляет сервоприводом для раздельного отбора (10 + 1 емкость), работает с экраном и энкодером, работает через веб-сервер ESP32, сохраняет у себя лог погона, на своем веб-сервере рисует графики по логу (4 температуры и давление), работает через Blynk  - можно удаленно с телефона контролировать основные параметры и управлять основными функциями. Реализовано аварийное отключение в случае выхода температуры за заданные параметры.

Еще одна возможность: можно задавать программу отбора на весь погон. В программе отбора можно указать в какую емкость, какой объем, в каком температурном режиме отбирать текущую часть погона.

Для работы всего функционала необходимо подключение к интернету. Без интернета не будет работать Blynk и не будут строиться графики (библиотека для графиков грузится из сети, она большая, ее на внутренней памяти не сохранить). Все остальное будет работать. 

Обратите внимание!!! Не смотря на то, что теоретически все автоматизировано (или может быть автоматизировано), присутствие оператора рядом с колонной обязательно! Автоматика позволяет упростить отбор, но сама ничего не сделает. Без понимания процессов оператором это просто прикольная (на мой взгляд) штука.

Схема подключения
![alt text](https://github.com/LKosoj/Samovar/blob/master/Fritzing%20scheme/Samovar_bb.png)

Как скомпилировать, загрузить и настроить Самовар:
https://www.samovar-tool.ru/samovar-diy/

Как выглядит реализованное, можно посмотреть тут https://www.samovar-tool.ru/2021/03/21/o-rabote-samovara/

Обсуждение на форуме
https://alcodistillers.ru/forum/viewtopic.php?id=1812

    
