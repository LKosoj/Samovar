<html><head><meta charset=utf-8 /><meta http-equiv=Cache-Control content=no-cache /><link rel="shortcut icon" href=/favicon.ico type=image/x-icon /><link rel=stylesheet href=/style.css /><title>Самовар</title><script>function ConnectError(n){n?OfflineCouner?(document.getElementById("connection_indicator").innerHTML=`
          <img src="Red_light.gif" style="margin: 0!important; width: 20px">`,addMessage("Обрыв связи!",0),setTimeout(()=>{IsOffline=!0,OfflineCouner=0},100)):OfflineCouner++:(document.getElementById("connection_indicator").innerHTML=`
        <img src="Green.png" style="margin: 0 !important; width: 20px">`,IsOffline=!1,OfflineCouner=0)}function setPowerUnit(){let t,i,r,u,n;pwr_unit==="P"?(t="Мощность регулятора: ",i="Установить мощность",r="Текущая мощн.: ",u="Целевая мощн.: ",n=" Вт",document.getElementById("current_power_line").style="visibility: hidden",document.getElementById("PWR").style=""):pwr_unit==="V"?(t="Напряжение регулятора: ",i="Установить напряжение",r="Текущее напр.: ",u="Целевое напр.: ",n=" V",document.getElementById("current_power_line").style="visibility: visible",document.getElementById("PWR").style=""):document.getElementById("PWR").style="visibility: hidden;position: fixed;";document.getElementById("set_power_label").innerHTML=t;document.getElementById("SetVoltage").value=i;document.getElementById("power_current").innerHTML=r;document.getElementById("power_target").innerHTML=u;document.getElementById("power_unit_current").innerHTML=n;document.getElementById("power_unit_target").innerHTML=n}function AddLuaButtons(){let n="%btn_list%";if(n!==""){let t=n.split(",");for(z=0;z<t.length;z++)if(t[z]!==""){let i=t[z].split("|"),n=document.createElement("input");n.type="submit";n.name="luabtn"+z;n.value=i[1];n.className="button";n.setAttribute("onclick",'run_lua("'+i[0]+'");');document.getElementById("lua_btn_ln").appendChild(n);document.getElementById("lua_btn").style="visibility: visible"}}}function playSound(n){!sound_is_playing&&n?(sound.play(),sound_is_playing=!0):sound_is_playing&&!n&&(sound.pause(),sound_is_playing=!1)}function addMessage(n,t){if(!IsOffline){let r=(new Date).toLocaleTimeString("ru-RU"),i=null;switch(t){case 0:i="message_0";is_ALARM=!0;break;case 1:i="message_1";break;case 2:i="message_2";break;default:i="message_0";is_ALARM=!0}let u=`
            <div align="left" class=${i} onclick=removeLastMessage() style="cursor: pointer">
              ${r}  ${n}
            </div>`;if(Messages_Array.push(u),Messages_Array.length>1){previousMsg=Messages_Array[Messages_Array.length-2];let n=previousMsg.replace('onclick=removeLastMessage() style="cursor: pointer"',"");Messages_Array[Messages_Array.length-2]=n}showMessages()}}function removeLastMessage(){if(Messages_Array.pop(),Messages_Array.length>0){lastMsg=Messages_Array[Messages_Array.length-1];let n=lastMsg.replace('<div align="left"','<div align="left" onclick=removeLastMessage() style="cursor: pointer"');Messages_Array[Messages_Array.length-1]=n}else is_ALARM=!1,IsCalmingPause=!1;showMessages()}function showMessages(){if(Messages_Array.length>0){let n=[];document.getElementById("messages").innerHTML="";Messages_Array.forEach(t=>{document.getElementById("messages").innerHTML+=t,n.push(t.includes("class=message_0"))});document.getElementById("messagesBox").style.display="block";let t=document.getElementById("messagesBox");t.scrollTop=t.scrollHeight;function i(n){return n===!0}is_ALARM=n.some(i);sound_is_on&is_ALARM?playSound(!0):playSound(!1)}else document.getElementById("messagesBox").style.display="none",playSound(!1)}function clearMessages(){Messages_Array=[];showMessages()}function headerClick(){this.nextElementSibling.classList.toggle("spoiler-body");var n=this.parentNode.getElementsByClassName("spoiler-sign");n[0].innerHTML=n[0].innerHTML=="[+]"?"[-]":"[+]"}function openTab(n,t){for(var r,u=document.getElementsByClassName("tabcontent"),i=0;i<u.length;i++)u[i].style.display="none";for(r=document.getElementsByClassName("tablinks"),i=0;i<r.length;i++)r[i].className=r[i].className.replace(" active","");return document.getElementById(t).style.display="block",n.currentTarget.className+=" active",0}function check_program(n){var r=n.split("\n"),u=0,f=!0,t,e;for(i=0;i<r.length;i++)e=r[i].split(";"),t=e.length,t==1&&e[0]!=""&&r.length==i-1?f=!1:u>0&&t>1&&u!=t&&(f=!1),u=t;return f}function calc_program(){if(!check_program(document.getElementById("WProgram").value)){alert("Program error!");return}var n=document.getElementsByClassName("prgline"),r,t;for(t="",i=1;i<n.length;i++){for(n[i].childNodes[2].value.indexOf(".")>0&&(n[i].childNodes[2].value=n[i].childNodes[2].value.substring(0,n[i].childNodes[2].value.indexOf("."))),n[i].childNodes[2].value.indexOf(",")>0&&(n[i].childNodes[2].value=n[i].childNodes[2].value.substring(0,n[i].childNodes[2].value.indexOf(","))),n[i].childNodes[3].value=n[i].childNodes[3].value.replace(",","."),n[i].childNodes[5].value=n[i].childNodes[5].value.replace(",","."),n[i].childNodes[6].value=n[i].childNodes[6].value.replace(",","."),r=n[i].childNodes,j=1;j<7;j++)t=t+r[j].value+";";t=t.slice(0,-1);t=t+"\n"}document.getElementById("WProgram").value=t;set_num();calc_time()}function calc_time(){totalTime=0;let n=0,t=document.getElementsByClassName("prgline");for(let i=1;i<t.length;i++){let r=t[i];if(r.childNodes[1].value==="P")n=r.childNodes[2].value/3600;else{let i=r.childNodes[2].value/1e3,t=r.childNodes[3].value;n=t>0?i/t:0}let u=r.childNodes[7];u.textContent=get_time(n);totalTime=totalTime+n}document.getElementById("totalTime").textContent=get_time(totalTime)}function set_program(){calc_program();document.getElementById("WProgram").value=document.getElementById("WProgram").value.replace(",",".");request=new XMLHttpRequest;request.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var n=this.responseText;n!="OK"&&(document.getElementById("WProgram").value=n,alert("Программа установлена"))}};request.open("POST","/program",!1);let n=new FormData(document.forms.mainform);return request.send(n),request.status!=200&&alert("set_program ERROR! "+request.status+": "+request.statusText),0}function sleep(n){for(var i=(new Date).getTime(),t=0;t<1e7;t++)if((new Date).getTime()-i>n)break}function sendbutton(n){var t="/command?"+n;return request=new XMLHttpRequest,request.open("GET",t,!1),request.send(),request.status!=200&&alert("sendbutton ERROR! "+request.status+": "+request.statusText),sleep(1e3),0}function sendvoltage(){var n=document.getElementById("Voltage").value,t;return!n.match(/^\d+\.\d+$/)&&!n.match(/^-{0,1}\d+$/)?(alert("Введите значение!"),0):(t="voltage="+n,sendbutton(t),alert("Установлено."),0)}function sendpumpspeed(){var n=document.getElementById("pumpspeed").value,t;return!n.match(/^\d+\.\d+$/)&&!n.match(/^-{0,1}\d+$/)?(alert("Введите скорость!"),0):(t="pumpspeed="+n,sendbutton(t),alert("Скорость отбора установлена."),0)}function loadDoc(){var n=new XMLHttpRequest;n.timeout=4e3;n.onreadystatechange=function(){var n,f,t,i,r,u;if(this.readyState==4&&this.status==200){ConnectError(!1);n=JSON.parse(this.responseText);document.getElementById("version").innerHTML=n.version;document.getElementById("crnt_tm").innerHTML=n.crnt_tm;document.getElementById("stm").innerHTML=n.stm;document.getElementById("SteamTemp").innerHTML=n.SteamTemp.toFixed(3);document.getElementById("PipeTemp").innerHTML=n.PipeTemp.toFixed(3);document.getElementById("WaterTemp").innerHTML=n.WaterTemp.toFixed(3);document.getElementById("TankTemp").innerHTML=n.TankTemp.toFixed(3);document.getElementById("ACPTemp").innerHTML=n.ACPTemp.toFixed(3);document.getElementById("bme_pressure").innerHTML=n.bme_pressure.toFixed(3);document.getElementById("start_pressure").innerHTML=n.start_pressure.toFixed(3);document.getElementById("VolumeAll").innerHTML=n.VolumeAll;document.getElementById("ActualVolumePerHour").innerHTML=n.ActualVolumePerHour;document.getElementById("WthdrwlProgress").innerHTML=n.WthdrwlProgress;document.getElementById("CurrrentSpeed").innerHTML=n.CurrrentSpeed;document.getElementById("CurrrentStepps").innerHTML=n.CurrrentStepps;document.getElementById("TargetStepps").innerHTML=n.TargetStepps;n.PrgType==="P"?n.PrgType="Пауза":n.PrgType==="H"?n.PrgType="Головы; ":n.PrgType==="B"?n.PrgType="Тело; ":n.PrgType==="C"?n.PrgType="Предзахлеб; ":n.PrgType==="T"&&(n.PrgType="Хвосты; ");document.getElementById("Status").innerHTML=n.PrgType+n.Status;let o=0,s=n.Status.indexOf("Прг №");s!==-1&&(o=parseInt(n.Status.substring(s+5,s+7)));current_progNum!==o&&(current_progNum=o,getProgram());document.getElementById("current_power_volt").innerHTML=n.current_power_volt.toFixed(1);document.getElementById("target_power_volt").innerHTML=n.target_power_volt.toFixed(1);document.getElementById("current_power_mode").innerHTML=n.current_power_mode;document.getElementById("current_power_p").innerHTML=n.current_power_p;document.getElementById("WFtotalMl").innerHTML=n.WFtotalMl/1e3;document.getElementById("WFflowRate").innerHTML=n.WFflowRate;document.getElementById("bme_temp").innerHTML=n.bme_temp;document.getElementById("heap").innerHTML=n.heap;document.getElementById("rssi").innerHTML=n.rssi;document.getElementById("fr_bt").innerHTML=n.fr_bt;sound_is_on=!!n.UseBBuzzer;let e=n.Status;e&&e!==""&&e.includes("Продолжение через")&&!IsCalmingPause&&(addMessage(e,1),IsCalmingPause=!0);n.Lstatus&&n.Lstatus!=""&&(document.getElementById("Lstatus").innerHTML=n.Lstatus);f=n.PipeTemp-n.SteamTemp;document.getElementById("DeltaTemp").innerHTML=f.toFixed(3);n.Msg&&n.Msg!==""&&addMessage(n.Msg,n.msglvl);n.LogMsg&&n.LogMsg!==""&&console.log(n.crnt_tm+"; "+n.LogMsg);document.getElementById("start").value=n.WthdrwlStatus>0?"Следующая программа":"Начать отбор";document.getElementById("flowsensor").style=n.WFflowRate===undefined?"visibility: hidden; position: fixed;":"";n.PowerOn==1?(t="Выключить нагрев",i="red"):(t="Включить нагрев",i="lightgreen");document.getElementById("power").value=t;document.getElementById("power").style.backgroundColor=i;n.PauseOn==1?(r="Продолжить",u="lightgreen"):(r="Поставить на паузу",u="#3498db");document.getElementById("pause").value=r;document.getElementById("pause").style.backgroundColor=u}};n.onerror=function(){ConnectError(!0)};n.ontimeout=function(){ConnectError(!0)};n.open("GET","/ajax",!0);n.send()}function set_num(){var t=document.getElementById("prg").childNodes,n;for(i=1;i<t.length;i++)n=t[i].childNodes[0],n.innerText="",i<11&&(n.innerText="0"),n.innerText=n.innerText+(i-1)}function removeLine(n){var i=document.getElementById("prg").childNodes.length,t;i<3||(t=document.getElementById(n),t.remove(),calc_program())}function addLine(n,t){var r=t.split(";"),i=document.createElement("div"),c,f,u,e,o,s,h,a,y,p,w;i.className="prgline";i.id="prgln"+_lnIdx;c=document.createElement("label");c.className="prglabel";i.appendChild(c);c.insertAdjacentHTML("afterend",'<select id="ptype'+_lnIdx+'" name="ptype'+_lnIdx+'" onchange="set_bgcolor('+_lnIdx+');calc_program();"><option value="H">Головы<\/option><option value="B">Тело<\/option><option value="C">Предзахлеб<\/option><option value="T">Хвосты<\/option><option value="P">Пауза<\/option><\/select>');f=document.createElement("input");f.type="text";f.name="pvolume"+_lnIdx;f.value=r[1];f.setAttribute("onchange","calc_program();");i.appendChild(f);u=document.createElement("input");u.type="text";u.name="pspeed"+_lnIdx;u.value=r[2];u.setAttribute("onchange","calc_program();");i.appendChild(u);u.insertAdjacentHTML("afterend",'<select id="pnum'+_lnIdx+'" name="pnum'+_lnIdx+'" onchange="calc_program()"><option value="0">0<\/option><option value="1">1<\/option><option value="2">2<\/option><option value="3">3<\/option><option value="4">4<\/option><option value="5">5<\/option><option value="6">6<\/option><option value="7">7<\/option><option value="8">8<\/option><option value="9">9<\/option><option value="10">10<\/option><\/select>');e=document.createElement("input");e.type="text";e.name="ptemp"+_lnIdx;e.value=r[4];e.setAttribute("onchange","calc_program();");i.appendChild(e);o=document.createElement("input");o.type="text";o.name="pvolt"+_lnIdx;o.value=r[5];o.setAttribute("onchange","calc_program();");i.appendChild(o);let v=document.createElement("span");v.className="prgTime";let l=0;r[0]==="P"?l=r[1]/3600:(l=r[1]/1e3/r[2],totalTime=totalTime+l);v.textContent=get_time(l);i.appendChild(v);s=document.createElement("img");s.src="/plus.png";s.setAttribute("width","20");s.setAttribute("onclick","addLine('prgln"+_lnIdx+"','H;0;0;0;0;0')");i.appendChild(s);h=document.createElement("img");h.src="/minus.png";h.setAttribute("width","20");h.setAttribute("onclick","removeLine('prgln"+_lnIdx+"')");i.appendChild(h);n?(a=document.getElementById(n),a.after(i)):(a=document.getElementById("prg"),a.appendChild(i));y="ptype"+_lnIdx;p=document.getElementById(y);p.value=r[0];w=document.getElementById("pnum"+_lnIdx);w.value=r[3];set_bgcolor(_lnIdx);_lnIdx++;calc_program()}function getProgram(){var n,i,t;if(_lnIdx=0,!check_program(document.getElementById("WProgram").value)){alert("Program error!");return}for(n=document.getElementById("prg");n.firstChild;)n.removeChild(n.firstChild);let r=pwr_unit=="P"?"Мощн":"Напр";for(n.insertAdjacentHTML("afterbegin",`
      <div class="prgline" id="hdr">
        <label class="tooltip">№</label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <label class="tooltip">Тип<span class="tooltiptext">Для режима Пауза время паузы в секундах задается в поле "Объем"</span></label>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <label class="tooltip">Объем<span class="tooltiptext">Объем в мл</span></label>
        <label class="tooltip">Скорость<span class="tooltiptext">Скорость в литрах в час</span></label>
        <label class="tooltip">Емкость<span class="tooltiptext">Номер емкости (нумерация начинается от 0)</span></label>
        <label class="tooltip">Темп</label>
        &nbsp;&nbsp;
        <label class="tooltip">${r}</label>
        <label class="tooltip">Время</label>
      </div>`),i=document.getElementById("WProgram"),t=i.value.split("\n"),z=0;z<t.length;z++)t[z]!=""&&addLine(!1,t[z]);document.getElementById("totalTime").textContent=get_time(totalTime)}function set_bgcolor(n){var r=document.getElementById("prgln"+n),u=document.getElementById("ptype"+n).value,t;let i="#FFF;";for(u=="H"?i="#80FFFA":u=="B"?i="#32CD3229":u=="C"?i="#FFFF0039":u=="P"?i="#C4C4C4":u=="T"&&(i="#8B451334"),r.style.backgroundColor=i,n+1<current_progNum&&(r.style.fontStyle="italic"),n+1==current_progNum&&(r.style.color="red",r.style.fontStyle="italic"),t=r.childNodes,q=0;q<t.length;q++)t[q].style.backgroundColor=i,current_progNum===n+1&&(t[q].style.color="red",t[q].style.fontStyle="italic"),n+1<current_progNum&&(t[q].style.fontStyle="italic",t[q].style.cursor="not-allowed",t[q].onclick=null,t[q].disabled=!0)}function run_lua(n){sendbutton("lua="+n)}function get_time(n){let t="";return l=Math.trunc(n),l<10&&(t="0"),t=t+l+":",l=Math.trunc((n-Math.trunc(n))*60),l<10&&(t=t+"0"),t+l}var current_progNum=0,totalTime=0,IsOffline=!1,OfflineCouner=0,sound_is_on=!0,IsCalmingPause=!1,Messages_Array=[],sound_is_playing=!1,is_ALARM=!1;const sound=new Audio("alarm.mp3");sound.loop=!0;sound.preload="auto";sound.autoplay=!1;var pwr_unit="%pwr_unit%",_lnIdx=0,headers=document.querySelectorAll("[data-name='spoiler-title']");setInterval(loadDoc,2e3);window.onload=function(){headers=document.querySelectorAll("[data-name='spoiler-title']");headers.forEach(function(n){n.addEventListener("click",headerClick)});getProgram();document.getElementById("WProgram").addEventListener("change",function(){if(!check_program(document.getElementById("WProgram").value)){alert("Program error!");return}getProgram()});setPowerUnit();AddLuaButtons()}</script></head><body><form action=none onsubmit="return false" name=mainform id=mainform><div class=tab><input type=button class="tablinks active" onclick="openTab(event, 'Main');" value=Ректификация /><input type=button class=tablinks onclick="openTab(event, 'Prog');" value=Программа /><input type=button class=tablinks onclick="openTab(event, 'Other');" value=Дополнительно /></div><div id=Main class=tabcontent style="display: block;"><div class=container_row style="justify-content: space-between; font-size: 1em; margin-bottom: 0.5em;"><div style="display: flex; flex-direction: row; justify-content: flex-start; align-items: center; font-weight: bold"><div style="display: flex; flex-direction: column; justify-content: flex-start; align-items: center"><div>Samovar</div><span id=crnt_tm style="height: 0; visibility: hidden"></span><div style="display: flex; flex-direction: row; justify-content: flex-start; align-items: center;"><div>v.</div><div id=version></div></div></div><div style="width: 21px; display: flex; flex-direction: column; justify-content: center; align-items: center"><div id=connection_indicator><img src=Green.png style="margin: 0 !important; width: 20px" /></div></div><div class=messages_box style="display: none;" id=messagesBox><div style="position: absolute; height: 0.6em; top: 0; right: 0.5em; cursor: pointer" onclick=clearMessages()>[x] очистить</div><div class=messages_array id=messages></div></div></div><div style="display: flex; flex-direction: column; align-items: center; font-weight: bold;">Работа: <span id=stm></span></div></div><div class=container_row style="border: 1px dashed #bbb; margin-bottom: 1em;"><div class=container_column style="flex: 1.1; padding-left: 2em;"><div class=text style="color: %PipeColor%;">Т в царге:    <span id=PipeTemp style="font-size: xx-large;"></span> °C</div><div class=text style="color: %SteamColor%;">Т пара:    <span id=SteamTemp style="font-size: xx-large;"></span> °C</div><div class=text style="color: black;">Δ температур:   <span id=DeltaTemp style="font-size: xx-large;"></span> °C</div></div><div class=container_column style="flex: 1; align-items: flex-end; padding-right: 2em;"><div class=text style="color: %WaterColor%;">Т воды:    <span id=WaterTemp style="font-size: xx-large;"></span> °C</div><div class=text style="color: %TankColor%;">Т в кубе:    <span id=TankTemp style="font-size: xx-large;"></span> °C</div><div class=text style="color: %ACPColor%;">Т в ТСА:    <span id=ACPTemp style="font-size: xx-large;"></span> °C</div></div></div><div class=container_row style="margin-top: 1em; background-color: #7cfc0063; padding-top: 0.5em; padding-bottom: 0.5em;"><span style="padding-left: 1em; font-size: 1.5em; font-weight: bold; color: #333">Статус: <span id=Status></span></span></div><div class=container_row style="border: 1px dashed #bbb; margin-bottom: 1em; justify-content: space-between;"><div class=container_column style="flex: 1.1; padding-left: 2em;"><div class=text>Скорость отбора:   <span id=ActualVolumePerHour></span> л/ч</div><div class=text>Отобранный объем:   <span id=VolumeAll></span> мл</div></div><div class=container_column style="flex: 1; align-items: flex-end; padding-right: 2em;"><div class=text>Прогресс отбора:   <span id=WthdrwlProgress></span> %</div></div></div><div id=PWR class=container_row style="justify-content: center;"><div class=container_column style="border: 1px dashed #bbb; margin-bottom: 1em;"><div class=text id=VoltH2><div class=container_row style="justify-content: space-around; align-items: center; width: 100%"><div><span id=set_power_label></span><input name=Voltage id=Voltage type=text /></div><input id=SetVoltage type=submit name=SetVoltage onclick=sendvoltage(); class=button /></div></div><div id=regulator class=container_row style="justify-content: space-around; align-items: center"><span class=dvcs><span id=power_current></span> <span id=current_power_volt></span> <span id=power_unit_current></span></span> <span class=dvcs><span id=power_target></span> <span id=target_power_volt></span> <span id=power_unit_target></span></span> <span class=dvcs>Режим регулятора: <span id=current_power_mode></span></span> <span class=dvcs id=current_power_line>Мощность: <span id=current_power_p></span> Вт</span></div></div></div><div class=container_row style="border: 1px dashed #bbb; margin-bottom: 1em; justify-content: space-between;"><div class=text>Давление:   <span id=bme_pressure></span> мм рт.ст.</div><div class=text>В начале:   <span id=start_pressure></span> мм рт.ст.</div></div><div class=container_column style="margin-bottom: 1em;"><div class=container_row style="justify-content: space-around; align-items: center;"><input id=power type=submit name=power value="Включить нагрев" onclick='sendbutton("power=1");' class=button /><input id=start type=submit name=start value="Начать отбор" onclick='sendbutton("start=1");' class=button /><input id=pause type=submit name=pause value=Пауза onclick='sendbutton("pause=1");' class=button /></div><div class=container_row style="justify-content: space-around; align-items: center;"><input id=reset type=submit name=reset value="Сбросить процесс" onclick='sendbutton("reset=1");' class=button /><input id=chart type=submit name=chart value=График onclick='javascript:location.href="/chart.htm"' class=button /><input id=setup type=submit name=setup value=Настройки onclick='javascript:location.href="/setup.htm"' class=button /></div></div></div><div id=Prog class=tabcontent><div class=text style="margin-top: 1em; margin-bottom: 1em">Программа отбора:</div><div class=prg id=prg></div><div style="display: flex; flex-direction: row; justify-content: right; color: #555; font-size: 1.4em; font-weight: bold;">Итого:  <div id=totalTime></div>                     </div><div><div style="border: 1px dashed #bbb; padding: 1em; margin-top: 1em; margin-bottom: 1em; background-color: #F7F7F7"><div class=list-group><div class="list-group-item list-header" data-name=spoiler-title><span class=spoiler-sign>[+]</span>Описание программы отбора в текстовом формате для сохранения в облаке:</div>
            <div class="list-group-item list-content spoiler-body">
              <textarea cols=40 rows=5 id=Descr name=Descr maxlength=250>%Descr%</textarea></div></div><div class=list-group><div class="list-group-item list-header" data-name=spoiler-title><span class=spoiler-sign>[+]</span>Программа отбора:</div>
            <div class="list-group-item list-content spoiler-body">
              <textarea cols=40 rows=5 id=WProgram name=WProgram>%WProgram%</textarea><ul><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.3em">Тип отбора<div style="font-size: 1em; font-weight: normal; font-style: normal; margin-left: 0.7em;"><div> <span style="font-weight: bold;">H</span> - головы (Heads)</div><div><span style="font-weight: bold;">B</span> - тело (Body)</div><div><span style="font-weight: bold;">P</span> - пауза (Pause)</div><div><span style="font-weight: bold;">T</span> - хвост (Tail)</div></div></li><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.9em">Объем отбора (мл)</li><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.9em">Скорость отбора (л/ч)</li><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.9em">Номер емкости для отбора</li><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.9em">Температура отбора<div style="font-size: 1em; font-weight: normal; font-style: normal; margin-left: 1em;"> Температура отбора = 0 - автоматический режим. Температура отбора &lt; 10°C - плюс к предыдущей температуре, иначе отбор при заданной температуре * в текущей версии не используется</div></li><li style="font-size: 1em; font-weight: bold; font-style: italic; margin-top: 0.9em">Напряжение отбора</li></ul><div style="border: 1px dashed #bbb; padding: 1em; 
      margin-top: 1em; margin-bottom: 1em; margin-right: 3em; margin-left: 3em; 
      font-size: 1.2em; font-weight: bold; background-color: #f2f2f2">Пример программы отбора:<div style="font-size: 1em; font-weight: normal; font-style: normal; margin-left: 1em; padding-top: 1em;"><div>H;100;0.1;1;0.00;120</div><div>P;120;0.00;0;0.00;140</div><div>B;5000;0.75;2;0.00;90</div></div></div></div></div></div></div><div class=container_row style="justify-content: space-around; align-items: center; margin-top: 2em; margin-bottom: 1em"><input id=return type=button name=program value="Расчитать программу" onclick='javascript:location.href="/program.htm"' class=button /><input id=setprogram type=button name=setprogram value="Установить программу" onclick=set_program(); class=button /></div></div><div id=Other class=tabcontent><div style="text-align: center;"><div class=text id=pmpspd><span class=tooltip>Скорость отбора:<span class=tooltiptext>Скорость установить можно при выполняющейся программе отбора. Установка скорости влияет только на выполняющуюся строку программы.</span></span><input name=pumpspeed id=pumpspeed type=text /> л/ч<input id=Setpmpspd type=submit name=Setpmpspd value=Установить onclick=sendpumpspeed(); class=button /></div><div class=tooltip><span class=tooltiptext>Текущие значения температур Царги и Пара установятся как основные</span><input id=setbody type=submit name=setbody value="Задать Т отбора тела" onclick='sendbutton("setbodytemp=1");' class=button /></div></div><div class=text>Скорость шагового двигателя: <span id=CurrrentSpeed></span> шагов/сек</div><div class=dvcs><span class=dvcs>Текущие шаги: <span id=CurrrentStepps></span></span> <span class=dvcs>Целевое шагов: <span id=TargetStepps></span></span></div><div class=dvcs id=flowsensor style="visibility: hidden;position: fixed;"><span class=dvcs>Расход воды: <span id=WFtotalMl></span> л</span> <span class=dvcs>Скорость расхода воды: <span id=WFflowRate></span> л/мин</span></div><div style="margin-top: 1em;"><span class=dvcs>Системные параметры: Heap=<span id=heap></span>; BME temp=<span id=bme_temp></span>; RSSI = <span id=rssi></span>; Свободно: <span id=fr_bt></span></span></div><div style="visibility: hidden" id=lua_btn><div class=container_row style="border: 1px dashed #bbb; margin-bottom: 1em; justify-content: space-between;"><div class=container_column style="flex: 1.1; padding-left: 2em;"><div class=container_row style="justify-content: space-around; align-items: center;" id=lua_btn_ln></div><div class=container_row style="margin-top: 10px !important; margin-bottom: 10px !important;"><span>Статус Lua:</span><span id=Lstatus></span></div></div></div></div></div></form></body></html>